<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete CSS Guide</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* Fonts */
            --main-font: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            --code-font: 'Courier New', Courier, monospace;
            
            /* Spacing */
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 2rem;
            --spacing-xl: 4rem;
            
            /* Border radius */
            --border-radius: 8px;
            
            /* Shadows */
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
        }

        /* Pale Blue Theme (Default) */
        .theme-pale-blue {
            --primary-color: #a7c7e7;
            --secondary-color: #d4e4f7;
            --accent-color: #5c9edc;
            --text-color: #2c3e50;
            --text-light: #7f8c8d;
            --bg-color: #f8fafc;
            --code-bg: #edf2f7;
            --header-bg: #ffffff;
            --border-color: #e2e8f0;
            --toc-bg: #ffffff;
            --search-bg: #ffffff;
            --card-bg: #ffffff;
            --button-bg: #5c9edc;
            --button-hover: #4a8bc7;
            --run-button-bg: #2ecc71;
            --run-button-hover: #27ae60;
            --output-bg: #ffffff;
            --toc-header-bg: #5c9edc;
            --toc-header-text: white;
            --reward-bg: linear-gradient(135deg, #ffd700, #ffb700);
            --reward-text: #8a6d3b;
            --reward-border: #d4af37;
        }

        /* Dark Blue Theme */
        .theme-dark-blue {
            --primary-color: #1e3a8a;
            --secondary-color: #1e40af;
            --accent-color: #3b82f6;
            --text-color: #eef2ff;
            --text-light: #c7d2fe;
            --bg-color: #0f172a;
            --code-bg: #1e293b;
            --header-bg: #1e3a8a;
            --border-color: #334155;
            --toc-bg: #1e293b;
            --search-bg: #1e293b;
            --card-bg: #1e293b;
            --button-bg: #3b82f6;
            --button-hover: #2563eb;
            --run-button-bg: #10b981;
            --run-button-hover: #059669;
            --output-bg: #1e293b;
            --toc-header-bg: #1e40af;
            --toc-header-text: #eef2ff;
            --reward-bg: linear-gradient(135deg, #d4af37, #b8860b);
            --reward-text: #fff;
            --reward-border: #ffd700;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--main-font);
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: all 0.3s ease;
        }

        .container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--spacing-md);
            gap: var(--spacing-lg);
        }

        header {
            background-color: var(--header-bg);
            padding: var(--spacing-md) var(--spacing-lg);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent-color);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .theme-switcher {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            background-color: var(--secondary-color);
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: 50px;
            cursor: pointer;
            user-select: none;
            transition: all 0.3s ease;
        }

        .theme-switcher:hover {
            background-color: var(--primary-color);
        }

        .theme-switcher i {
            font-size: 1.2rem;
        }

        .toc-toggle {
            display: none;
            background-color: var(--secondary-color);
            color: var(--text-color);
            border: none;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--border-radius);
            cursor: pointer;
            font-family: var(--main-font);
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .toc-toggle:hover {
            background-color: var(--primary-color);
        }

        .toc {
            width: 280px;
            background-color: var(--toc-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            align-self: flex-start;
            position: sticky;
            top: 100px;
            max-height: calc(100vh - 120px);
            overflow-y: auto;
            transition: all 0.3s ease;
        }

        .toc-header {
            background-color: var(--toc-header-bg);
            color: var(--toc-header-text);
            padding: var(--spacing-md);
            border-top-left-radius: var(--border-radius);
            border-top-right-radius: var(--border-radius);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .toc-header h2 {
            margin: 0;
        }

        .toc-content {
            padding: var(--spacing-md);
        }

        .toc ul {
            list-style-type: none;
        }

        .toc li {
            margin-bottom: var(--spacing-sm);
            padding-left: var(--spacing-md);
            position: relative;
        }

        .toc li:before {
            content: "â€¢";
            color: var(--accent-color);
            position: absolute;
            left: 0;
        }

        .toc a {
            color: var(--text-color);
            text-decoration: none;
            transition: color 0.2s;
            display: block;
            padding: 4px 0;
        }

        .toc a:hover {
            color: var(--accent-color);
        }

        .content {
            flex: 1;
            max-width: 900px;
        }

        .search-container {
            margin-bottom: var(--spacing-lg);
            position: relative;
        }

        .search-container i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
        }

        .search-bar {
            width: 100%;
            padding: var(--spacing-md) var(--spacing-md) var(--spacing-md) 45px;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            background-color: var(--search-bg);
            color: var(--text-color);
            font-size: 1rem;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        .search-bar:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(92, 158, 220, 0.2);
        }

        .compact-reward {
            background: var(--reward-bg);
            border: 1px solid var(--reward-border);
            border-radius: 4px;
            padding: 6px 12px;
            margin-bottom: var(--spacing-md);
            color: var(--reward-text);
            font-size: 0.9rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .compact-reward span {
            font-weight: bold;
        }

        .section {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--shadow);
        }

        .section h2 {
            color: var(--accent-color);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-sm);
            border-bottom: 2px solid var(--secondary-color);
        }

        .section h3 {
            color: var(--text-color);
            margin: var(--spacing-md) 0 var(--spacing-sm) 0;
        }

        .section p {
            margin-bottom: var(--spacing-md);
            color: var(--text-color);
        }

        .code-container {
            position: relative;
            margin: var(--spacing-md) 0;
        }

        .code-example {
            background-color: var(--code-bg);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            overflow-x: auto;
            font-family: var(--code-font);
            border: 1px solid var(--border-color);
        }

        .code-example pre {
            margin: 0;
            white-space: pre-wrap;
        }

        .run-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: var(--run-button-bg);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-family: var(--main-font);
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .run-button:hover {
            background-color: var(--run-button-hover);
            transform: translateY(-2px);
        }

        .output {
            background-color: var(--output-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin-top: var(--spacing-sm);
            min-height: 100px;
            display: none;
        }

        .output.visible {
            display: block;
        }

        .properties-table {
            width: 100%;
            border-collapse: collapse;
            margin: var(--spacing-md) 0;
        }

        .properties-table th,
        .properties-table td {
            padding: var(--spacing-sm);
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .properties-table th {
            background-color: var(--secondary-color);
            color: var(--text-color);
        }

        .properties-table tr:hover {
            background-color: var(--secondary-color);
        }

        .tag {
            display: inline-block;
            background-color: var(--accent-color);
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.9rem;
            margin-right: var(--spacing-sm);
        }

        footer {
            text-align: center;
            padding: var(--spacing-lg);
            margin-top: var(--spacing-xl);
            background-color: var(--header-bg);
            color: var(--text-color);
            border-top: 1px solid var(--border-color);
        }

        .tech-center {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--accent-color);
            transition: all 0.3s ease;
            display: inline-block;
            padding: 5px 10px;
            border-radius: 5px;
        }

        .tech-center:hover {
            color: #ffd700;
            transform: scale(1.05);
        }

        .example-box {
            width: 100px;
            height: 100px;
            background-color: var(--primary-color);
            margin: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .example-container {
            display: flex;
            flex-wrap: wrap;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            margin: 10px 0;
        }

        .note {
            background-color: var(--secondary-color);
            border-left: 4px solid var(--accent-color);
            padding: var(--spacing-md);
            margin: var(--spacing-md) 0;
            border-radius: 4px;
        }

        @media (max-width: 900px) {
            .container {
                flex-direction: column;
            }
            
            .toc {
                width: 100%;
                position: static;
                max-height: none;
                display: none;
            }
            
            .toc-toggle {
                display: block;
            }
            
            .toc.visible {
                display: block;
            }
        }
    </style>
</head>
<body class="theme-pale-blue">
    <header>
        <div class="logo">
            <i class="fas fa-css3-alt"></i>
            <span>Complete CSS Guide</span>
        </div>
        <div class="header-controls">
            <div class="theme-switcher" id="themeSwitcher">
                <i class="fas fa-moon"></i>
                <span>Switch to Dark Blue</span>
            </div>
            <button class="toc-toggle" id="tocToggle">
                <i class="fas fa-bars"></i> TOC
            </button>
        </div>
    </header>

    <div class="container">
        <aside class="toc" id="toc">
            <div class="toc-header">
                <h2>Table of Contents</h2>
                <button class="toc-toggle" id="closeToc">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="toc-content">
                <ul>
                    <li><a href="#intro">Introduction to CSS</a></li>
                    <li><a href="#syntax">CSS Syntax</a></li>
                    <li><a href="#selectors">Selectors</a></li>
                    <li><a href="#box-model">Box Model</a></li>
                    <li><a href="#position">Positioning</a></li>
                    <li><a href="#flexbox">Flexbox</a></li>
                    <li><a href="#grid">CSS Grid</a></li>
                    <li><a href="#responsive">Responsive Design</a></li>
                    <li><a href="#transforms">Transforms</a></li>
                    <li><a href="#transitions">Transitions</a></li>
                    <li><a href="#animations">Animations</a></li>
                    <li><a href="#variables">CSS Variables</a></li>
                    <li><a href="#preprocessors">Preprocessors</a></li>
                    <li><a href="#methodologies">Methodologies</a></li>
                    <li><a href="#frameworks">Frameworks</a></li>
                    <li><a href="#best-practices">Best Practices</a></li>
                </ul>
            </div>
        </aside>

        <main class="content">
            <div class="search-container">
                <i class="fas fa-search"></i>
                <input type="text" class="search-bar" placeholder="Search CSS properties..." id="searchInput">
            </div>

            <div class="compact-reward">
                <span>Complete this CSS guide to earn a reward of $0.10!</span>
                <span>Earned: $<span id="earnedAmount">0.00</span></span>
            </div>

            <section class="section" id="intro">
                <h2>Introduction to CSS</h2>
                <p>Cascading Style Sheets (CSS) is a stylesheet language used to describe the presentation of a document written in HTML or XML. CSS describes how elements should be rendered on screen, on paper, in speech, or on other media.</p>
                
                <h3>Why Use CSS?</h3>
                <p>CSS enables the separation of presentation and content, including layout, colors, and fonts. This separation improves content accessibility, provides more flexibility and control in the specification of presentation characteristics, and reduces complexity and repetition in the structural content.</p>
                
                <div class="code-container">
                    <button class="run-button" onclick="runCode(this)"><i class="fas fa-play"></i> Run</button>
                    <div class="code-example">
                        <pre>/* Basic CSS Example */
body {
  font-family: 'Arial', sans-serif;
  line-height: 1.6;
  color: #333;
  background-color: #f4f4f4;
  margin: 0;
  padding: 20px;
}

h1 {
  color: navy;
  text-align: center;
  font-size: 2.5rem;
  margin-bottom: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}</pre>
                    </div>
                    <div class="output"></div>
                </div>
            </section>

            <section class="section" id="syntax">
                <h2>CSS Syntax</h2>
                <p>A CSS rule consists of a selector and a declaration block. The selector points to the HTML element you want to style. The declaration block contains one or more declarations separated by semicolons. Each declaration includes a CSS property name and a value, separated by a colon.</p>
                
                <h3>CSS Rule Structure</h3>
                <p>A CSS rule has the following structure:</p>
                <div class="code-example">
                    <pre>selector {
  property: value;
  another-property: another-value;
}</pre>
                </div>
                
                <h3>CSS Comments</h3>
                <p>Comments are used to explain code and are ignored by browsers. CSS comments start with /* and end with */.</p>
                <div class="code-example">
                    <pre>/* This is a single-line comment */

/*
This is a
multi-line comment
*/</pre>
                </div>
                
                <div class="code-container">
                    <button class="run-button" onclick="runCode(this)"><i class="fas fa-play"></i> Run</button>
                    <div class="code-example">
                        <pre>/* CSS Syntax Examples */
/* Type selector */
h1 {
  color: darkblue;
  font-size: 2.5em;
}

/* Class selector */
.intro {
  font-weight: bold;
  color: #555;
  line-height: 1.8;
}

/* ID selector */
#header {
  background-color: #f8f8f8;
  padding: 20px;
  border-bottom: 1px solid #ddd;
}

/* Multiple selectors */
h1, h2, h3 {
  font-family: 'Georgia', serif;
  margin-top: 0;
}

/* Chaining selectors */
button.primary {
  background-color: blue;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
}</pre>
                    </div>
                    <div class="output"></div>
                </div>
            </section>

            <section class="section" id="selectors">
                <h2>CSS Selectors</h2>
                <p>CSS selectors are patterns used to select the element(s) you want to style. Understanding selectors is key to mastering CSS.</p>
                
                <h3>Basic Selectors</h3>
                <table class="properties-table">
                    <tr>
                        <th>Selector</th>
                        <th>Example</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td><span class="tag">Element</span></td>
                        <td><code>p</code></td>
                        <td>Selects all &lt;p&gt; elements</td>
                    </tr>
                    <tr>
                        <td><span class="tag">Class</span></td>
                        <td><code>.intro</code></td>
                        <td>Selects all elements with class="intro"</td>
                    </tr>
                    <tr>
                        <td><span class="tag">ID</span></td>
                        <td><code>#header</code></td>
                        <td>Selects the element with id="header"</td>
                    </tr>
                    <tr>
                        <td><span class="tag">Universal</span></td>
                        <td><code>*</code></td>
                        <td>Selects all elements</td>
                    </tr>
                    <tr>
                        <td><span class="tag">Attribute</span></td>
                        <td><code>[target]</code></td>
                        <td>Selects all elements with a target attribute</td>
                    </tr>
                </table>
                
                <div class="code-container">
                    <button class="run-button" onclick="runCode(this)"><i class="fas fa-play"></i> Run</button>
                    <div class="code-example">
                        <pre>/* Selector Examples */
/* Element selector */
p {
  line-height: 1.6;
  margin-bottom: 1rem;
}

/* Class selector */
.highlight {
  background-color: yellow;
  padding: 5px;
  border-radius: 3px;
}

/* ID selector */
#main-header {
  font-size: 2.5rem;
  color: darkblue;
  text-align: center;
}

/* Attribute selector */
a[target="_blank"] {
  color: red;
}

/* Universal selector */
* {
  box-sizing: border-box;
}</pre>
                    </div>
                    <div class="output"></div>
                </div>
            </section>

            <section class="section" id="box-model">
                <h2>Box Model</h2>
                <p>The CSS box model is a fundamental concept that describes how elements are structured and sized in CSS. Every element is represented as a rectangular box with content, padding, border, and margin areas.</p>
                
                <h3>Box Model Components</h3>
                <ol>
                    <li><strong>Content</strong>: The actual content of the box, where text and images appear</li>
                    <li><strong>Padding</strong>: Clears an area around the content (inside the border)</li>
                    <li><strong>Border</strong>: A border that goes around the padding and content</li>
                    <li><strong>Margin</strong>: Clears an area outside the border (transparent)</li>
                </ol>
                
                <div class="code-container">
                    <button class="run-button" onclick="runCode(this)"><i class="fas fa-play"></i> Run</button>
                    <div class="code-example">
                        <pre>/* Box Model Examples */
.box {
  width: 300px;
  padding: 20px;
  border: 5px solid gray;
  margin: 10px;
  background-color: lightblue;
}

/* Content-box vs Border-box */
.content-box {
  box-sizing: content-box;
  width: 300px;
  padding: 20px;
  border: 5px solid gray;
}

.border-box {
  box-sizing: border-box;
  width: 300px;
  padding: 20px;
  border: 5px solid gray;
}</pre>
                    </div>
                    <div class="output"></div>
                </div>
            </section>

            <!-- Additional sections would continue here with similar structure -->
            
            <section class="section" id="best-practices">
                <h2>CSS Best Practices</h2>
                <p>Following CSS best practices helps create maintainable, scalable, and efficient stylesheets.</p>
                
                <h3>Organization and Structure</h3>
                <ul>
                    <li>Use a consistent naming convention (like BEM)</li>
                    <li>Organize your CSS in a logical order (reset, elements, components, utilities)</li>
                    <li>Group related properties together</li>
                    <li>Comment your code for important sections</li>
                    <li>Break large stylesheets into multiple files</li>
                </ul>
                
                <h3>Performance Tips</h3>
                <ul>
                    <li>Use efficient selectors (avoid overly specific selectors)</li>
                    <li>Minify CSS for production</li>
                    <li>Reduce redundancy with CSS variables and inheritance</li>
                    <li>Use transform and opacity for animations (they're GPU accelerated)</li>
                    <li>Avoid using @import which can increase load times</li>
                </ul>
                
                <div class="code-container">
                    <button class="run-button" onclick="runCode(this)"><i class="fas fa-play"></i> Run</button>
                    <div class="code-example">
                        <pre>/* CSS Best Practices Example */
:root {
  --primary-color: #3498db;
  --secondary-color: #2ecc71;
  --font-size: 16px;
  --spacing: 1rem;
  --border-radius: 4px;
}

/* Component styling using BEM */
.button {
  display: inline-block;
  padding: calc(var(--spacing) / 2) var(--spacing);
  border: none;
  border-radius: var(--border-radius);
  font-size: var(--font-size);
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.button--primary {
  background-color: var(--primary-color);
  color: white;
}

.button--secondary {
  background-color: var(--secondary-color);
  color: white;
}

.button:hover {
  opacity: 0.9;
}

/* Utility classes */
.text-center { text-align: center; }
.mt-1 { margin-top: var(--spacing); }
.p-1 { padding: var(--spacing); }</pre>
                    </div>
                    <div class="output"></div>
                </div>
            </section>
        </main>
    </div>

    <footer>
        <div class="tech-center">Frivaco Tech Centre</div>
    </footer>

    <script>
        // Theme switching functionality
        const themeSwitcher = document.getElementById('themeSwitcher');
        const body = document.body;
        
        themeSwitcher.addEventListener('click', () => {
            if (body.classList.contains('theme-pale-blue')) {
                body.classList.remove('theme-pale-blue');
                body.classList.add('theme-dark-blue');
                themeSwitcher.innerHTML = '<i class="fas fa-sun"></i><span>Switch to Pale Blue</span>';
            } else {
                body.classList.remove('theme-dark-blue');
                body.classList.add('theme-pale-blue');
                themeSwitcher.innerHTML = '<i class="fas fa-moon"></i><span>Switch to Dark Blue</span>';
            }
        });

        // TOC toggle functionality
        const tocToggle = document.getElementById('tocToggle');
        const closeToc = document.getElementById('closeToc');
        const toc = document.getElementById('toc');
        
        tocToggle.addEventListener('click', () => {
            toc.classList.toggle('visible');
        });
        
        closeToc.addEventListener('click', () => {
            toc.classList.remove('visible');
        });

        // Search functionality
        const searchInput = document.getElementById('searchInput');
        const sections = document.querySelectorAll('.section');
        
        searchInput.addEventListener('input', () => {
            const searchTerm = searchInput.value.toLowerCase();
            
            sections.forEach(section => {
                const sectionText = section.textContent.toLowerCase();
                const sectionTitle = section.querySelector('h2').textContent;
                
                if (sectionText.includes(searchTerm)) {
                    section.style.display = 'block';
                } else {
                    section.style.display = 'none';
                }
            });
        });

        // Smooth scrolling for table of contents links
        document.querySelectorAll('.toc a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                window.scrollTo({
                    top: targetElement.offsetTop - 100,
                    behavior: 'smooth'
                });
                
                // Close TOC on mobile after clicking a link
                if (window.innerWidth <= 900) {
                    toc.classList.remove('visible');
                }
            });
        });

        // Track completed examples
        const completedCSSExamples = JSON.parse(localStorage.getItem('cssGuideCompleted') || '{}');
        const totalCSSExamples = 16; // Count of all runnable examples in this file
        let cssRewardClaimed = localStorage.getItem('cssGuideRewardClaimed') === 'true';

        // Function to update user balance across all pages
        function updateUserBalance(amount) {
            // Get user data from localStorage or create default
            let userData = JSON.parse(localStorage.getItem('fravicoTechUser')) || {
                firstName: "Demo",
                lastName: "User",
                email: "demo@example.com",
                username: "DemoUser",
                balance: 0.00,
                completedCourses: 0,
                totalEarnings: 0.00,
                isLoggedIn: true,
                lastLanguage: null,
                quizAnswers: {},
                certificates: {},
                courseProgress: {}
            };
            
            // Update balance and total earnings
            userData.balance += amount;
            userData.totalEarnings += amount;
            
            // Save back to localStorage
            localStorage.setItem('fravicoTechUser', JSON.stringify(userData));
            
            // Dispatch storage event to sync with other tabs
            window.dispatchEvent(new Event('storage'));
            
            return userData;
        }

        // Award reward function for CSS guide
        function awardCSSReward() {
            // Update user balance
            const updatedUser = updateUserBalance(0.10);
            
            // Mark reward as claimed
            cssRewardClaimed = true;
            localStorage.setItem('cssGuideRewardClaimed', 'true');
            
            // Show reward notification
            alert(`ðŸŽ‰ Congratulations! You've earned $0.10 for exploring all CSS concepts! Your new balance is $${updatedUser.balance.toFixed(2)}.`);
            
            // Update reward display
            document.getElementById('earnedAmount').textContent = '0.10';
        }

        // Check if reward already claimed
        if (cssRewardClaimed) {
            document.getElementById('earnedAmount').textContent = '0.10';
        }

        // Function to run code examples
        function runCode(button) {
            const codeContainer = button.parentElement;
            const codeExample = codeContainer.querySelector('.code-example');
            const outputElement = codeContainer.querySelector('.output');
            
            // Get the code text
            const codeText = codeExample.querySelector('pre').textContent;
            
            // Clear previous output
            outputElement.innerHTML = '';
            
            // Create a style element to apply the CSS
            const styleElement = document.createElement('style');
            
            // Extract CSS from the code (remove comments and selectors that might conflict)
            let cssCode = codeText.replace(/\/\*[\s\S]*?\*\//g, ''); // Remove comments
            
            // Apply the CSS
            styleElement.textContent = cssCode;
            document.head.appendChild(styleElement);
            
            // Create example HTML based on the code
            let exampleHTML = '';
            
            if (codeText.includes('flex') || codeText.includes('Flexbox')) {
                exampleHTML = `
                    <div class="example-container">
                        <div class="item">Item 1</div>
                        <div class="item">Item 2</div>
                        <div class="item">Item 3</div>
                    </div>
                `;
            } else if (codeText.includes('animation') || codeText.includes('keyframes')) {
                exampleHTML = `
                    <div class="animated-box">Pulse</div>
                `;
            } else if (codeText.includes('grid')) {
                exampleHTML = `
                    <div class="container">
                        <div class="item header">Header</div>
                        <div class="item">Content 1</div>
                        <div class="item">Content 2</div>
                        <div class="item sidebar">Sidebar</div>
                        <div class="item">Content 3</div>
                        <div class="item">Content 4</div>
                        <div class="item footer">Footer</div>
                    </div>
                `;
            } else if (codeText.includes('var(')) {
                exampleHTML = `
                    <div>
                        <p class="element">This text uses CSS variables</p>
                        <button class="button">Button with variables</button>
                    </div>
                `;
            } else if (codeText.includes('box')) {
                exampleHTML = `
                    <div class="box">Box Model Example</div>
                    <div style="display: flex; gap: 20px; margin-top: 20px;">
                        <div class="content-box">Content-Box</div>
                        <div class="border-box">Border-Box</div>
                    </div>
                `;
            } else if (codeText.includes('selector')) {
                exampleHTML = `
                    <div>
                        <p>This is a normal paragraph.</p>
                        <p class="highlight">This is a highlighted paragraph.</p>
                        <a href="#">Normal link</a>
                        <a href="#" target="_blank">External link (red)</a>
                    </div>
                `;
            } else {
                exampleHTML = `
                    <h1>This is a heading</h1>
                    <p>This is a paragraph demonstrating the CSS styles.</p>
                    <button class="button">A Button</button>
                `;
            }
            
            outputElement.innerHTML = exampleHTML;
            outputElement.classList.add('visible');
            
            // Remove the style element after a short delay to avoid conflicts
            setTimeout(() => {
                document.head.removeChild(styleElement);
            }, 100);
            
            // Track this example as completed
            const exampleId = codeExample.id || 'example-' + Array.from(document.querySelectorAll('.code-container')).indexOf(codeContainer);
            
            if (!completedCSSExamples[exampleId]) {
                completedCSSExamples[exampleId] = true;
                localStorage.setItem('cssGuideCompleted', JSON.stringify(completedCSSExamples));
                
                // Check if all examples are completed and reward not yet claimed
                if (Object.keys(completedCSSExamples).length === totalCSSExamples && !cssRewardClaimed) {
                    awardCSSReward();
                }
            }
        }

        // Check completion on page load
        if (Object.keys(completedCSSExamples).length === totalCSSExamples && !cssRewardClaimed) {
            // Show notification that user can claim reward by running any example
            document.querySelector('.compact-reward').innerHTML += 
                '<div style="margin-top: 10px; color: #8a6d3b; font-weight: bold;">Complete! Run any example to claim your $0.10 reward!</div>';
        }
    </script>
</body>
</html>